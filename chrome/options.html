<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>X Buddy Extension Options</title>
		<style>
			:root {
				font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
				color-scheme: dark;
				--bg: #000000;
				--panel: #16181c;
				--panel-border: #2f3336;
				--text: #ffffff;
				--muted: #71767b;
				--accent: #1d9bf0;
				--accent-hover: #1a8cd8;
				--border: #2f3336;
				--hover: rgba(255, 255, 255, 0.03);
				--input-bg: #0f1419;
				--input-border: #536471;
				--blue-hover: rgba(29, 155, 240, 0.1);
			}

			body {
				margin: 0;
				min-height: 100vh;
				background: var(--bg);
				color: var(--text);
				font-size: 15px;
				line-height: 1.4;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				min-height: 100vh;
				display: flex;
			}

			.sidebar {
				width: 240px;
				background: var(--panel);
				border-right: 1px solid var(--border);
				padding: 20px 0;
			}

			.sidebar-header {
				padding: 0 16px 20px;
				border-bottom: 1px solid var(--border);
				margin-bottom: 20px;
			}

			.sidebar-header h2 {
				margin: 0;
				font-size: 20px;
				font-weight: 700;
				color: var(--text);
			}

			.nav-link {
				display: block;
				padding: 12px 16px;
				color: var(--muted);
				text-decoration: none;
				font-weight: 400;
				transition: all 0.2s ease;
				border-left: 2px solid transparent;
			}

			.nav-link:hover {
				background: var(--hover);
				color: var(--text);
			}

			.nav-link.active {
				color: var(--text);
				background: var(--blue-hover);
				border-left-color: var(--accent);
			}

			.main {
				flex: 1;
				background: var(--panel);
				min-height: 100vh;
			}

			.main-content {
				padding: 20px 32px;
				max-width: 600px;
			}

			.section-content {
				display: none;
			}

			.section-content.active {
				display: block;
			}

			.main-header {
				padding-bottom: 20px;
				border-bottom: 1px solid var(--border);
				margin-bottom: 32px;
			}

			.main-header h1 {
				margin: 0 0 8px;
				font-size: 24px;
				font-weight: 700;
				color: var(--text);
			}

			.main-header p {
				margin: 0;
				color: var(--muted);
				font-size: 15px;
			}

			.section {
				margin-bottom: 40px;
			}

			.section h2 {
				margin: 0 0 16px;
				font-size: 20px;
				font-weight: 700;
				color: var(--text);
			}

			.section p {
				margin: 0 0 20px;
				color: var(--muted);
				font-size: 15px;
				line-height: 1.4;
			}

			label {
				display: flex;
				align-items: flex-start;
				gap: 12px;
				font-weight: 400;
				color: var(--text);
				cursor: pointer;
				margin-bottom: 16px;
			}

			.nested-option {
				margin-left: 32px;
				margin-top: 12px;
				padding-left: 12px;
				border-left: 2px solid rgba(113, 118, 123, 0.25);
			}

			.option-note {
				margin: 6px 0 0;
				font-size: 14px;
				color: var(--muted);
			}

			.lookup-mode {
				margin-top: 20px;
				padding: 20px;
				border: 1px solid var(--border);
				border-radius: 16px;
				background: var(--input-bg);
			}

			.lookup-mode legend {
				font-size: 16px;
				font-weight: 600;
				padding: 0 8px;
				color: var(--text);
				margin-bottom: 16px;
			}

			.radio-group {
				display: flex;
				flex-direction: column;
				gap: 8px;
			}

			.radio-pill {
				display: flex;
				align-items: center;
				gap: 12px;
				padding: 12px 16px;
				border: 1px solid var(--input-border);
				border-radius: 8px;
				background: var(--input-bg);
				cursor: pointer;
				transition: border 0.2s ease, background 0.2s ease;
			}

			.radio-pill:hover {
				border-color: var(--accent);
				background: var(--blue-hover);
			}

			.radio-pill input[type="radio"] {
				accent-color: var(--accent);
			}

			input[type="checkbox"] {
				width: 20px;
				height: 20px;
				border-radius: 4px;
				border: 1px solid var(--input-border);
				background: var(--input-bg);
				accent-color: var(--accent);
				margin-top: 2px;
			}

			button {
				border: none;
				border-radius: 999px;
				padding: 8px 16px;
				font-size: 15px;
				font-weight: 600;
				cursor: pointer;
				background: var(--accent);
				color: #fff;
				transition: background 0.2s ease;
				min-height: 36px;
			}

			button:hover {
				background: var(--accent-hover);
			}

			button:disabled {
				opacity: 0.5;
				cursor: not-allowed;
			}

			#save {
				margin-top: 16px;
			}

			.filter-row {
				display: flex;
				gap: 12px;
				align-items: center;
				margin-bottom: 20px;
			}

			.filter-row select {
				flex: 1;
				padding: 12px 16px;
				border: 1px solid var(--input-border);
				border-radius: 8px;
				background: var(--input-bg);
				color: var(--text);
				font-size: 15px;
			}

			.filter-row select:focus {
				border-color: var(--accent);
				outline: none;
			}

			#filteredList {
				margin-top: 20px;
			}

			.filter-item {
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 12px 16px;
				margin-bottom: 8px;
				background: var(--input-bg);
				border: 1px solid var(--input-border);
				border-radius: 8px;
			}

			.filter-item button {
				background: #f4212e;
				color: #fff;
				border: none;
				border-radius: 4px;
				padding: 4px 8px;
				font-size: 14px;
				cursor: pointer;
			}

			.filter-item button:hover {
				background: #d81e28;
			}

			.import-row {
				display: flex;
				flex-wrap: wrap;
				gap: 12px;
				align-items: center;
				margin-top: 20px;
			}

			.import-row input[type="file"] {
				font-size: 15px;
				color: var(--text);
			}

			#status {
				min-height: 1.25em;
				margin-top: 16px;
				font-weight: 500;
				color: var(--text);
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 20px;
				margin-bottom: 32px;
			}

			.stats-card {
				background: var(--input-bg);
				border: 1px solid var(--input-border);
				border-radius: 16px;
				padding: 20px;
			}

			.stats-card h3 {
				margin: 0 0 8px;
				font-size: 14px;
				color: var(--muted);
				text-transform: uppercase;
				letter-spacing: 0.05em;
				font-weight: 500;
			}

			.stats-card strong {
				font-size: 24px;
				color: var(--text);
				font-weight: 700;
			}

			#locationBreakdown {
				margin: 0;
				padding: 0;
				list-style: none;
			}

			#locationBreakdown li {
				display: flex;
				justify-content: space-between;
				padding: 8px 0;
				border-bottom: 1px solid var(--border);
				color: var(--text);
				font-size: 15px;
			}

			#locationBreakdown li:last-child {
				border-bottom: none;
			}

			.account-container {
				background: var(--input-bg);
				border: 1px solid var(--border);
				border-radius: 16px;
				padding: 20px;
			}

			.account-header {
				font-size: 22px;
				font-weight: 700;
				margin: 0 0 6px;
			}

			.account-sub {
				color: var(--muted);
				margin: 0 0 16px;
			}

			.account-status {
				margin: 0 0 12px;
				font-weight: 600;
			}

			.account-status.error {
				color: #f4212e;
			}

			.account-status.success {
				color: var(--accent);
			}

			.account-form {
				display: flex;
				flex-direction: column;
				gap: 12px;
				margin: 0;
			}

			.account-form label {
				display: flex;
				flex-direction: column;
				gap: 6px;
				font-weight: 600;
			}

			.account-form input[type="email"],
			.account-form input[type="password"] {
				padding: 12px;
				border-radius: 10px;
				border: 1px solid var(--input-border);
				background: var(--input-bg);
				color: var(--text);
				font-size: 15px;
			}

			.account-form input[type="email"]:focus,
			.account-form input[type="password"]:focus {
				outline: none;
				border-color: var(--accent);
			}

			.account-actions {
				display: flex;
				gap: 12px;
				flex-wrap: wrap;
				align-items: center;
				margin-top: 10px;
			}

			.button-secondary {
				background: transparent;
				color: var(--text);
				border: 1px solid var(--border);
			}

			.button-secondary:hover {
				border-color: var(--accent);
				color: var(--accent);
			}

			.card {
				background: var(--panel);
				border: 1px solid var(--border);
				border-radius: 12px;
				padding: 14px 16px;
				margin-top: 14px;
			}

			.card h3 {
				margin: 0 0 6px;
				font-size: 16px;
			}

			.card .meta {
				color: var(--muted);
				margin: 0 0 6px;
				font-size: 14px;
			}

			.card .token {
				word-break: break-all;
				font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
				margin: 0;
			}

			.footer {
				border-top: 1px solid var(--border);
				padding: 20px 32px;
				text-align: center;
				color: var(--muted);
				font-size: 14px;
			}
		</style>
	</head>

	<body>
		<div class="container">
			<div class="sidebar">
				<div class="sidebar-header">
					<h2>X Buddy</h2>
				</div>
				<a
					href="#"
					class="nav-link active"
					data-section="general"
					>General</a
				>
				<a
					href="#"
					class="nav-link"
					data-section="filtering"
					>Filtering</a
				>
				<a
					href="#"
					class="nav-link"
					data-section="statistics"
					>Statistics</a
				>
				<a
					href="#"
					class="nav-link"
					data-section="export-import"
					>Export/Import</a
				>
				<a
					href="#"
					class="nav-link"
					data-section="account"
					>Account</a
				>
			</div>
			<div class="main">
				<div class="main-content">
					<div
						id="general"
						class="section-content active">
						<div class="main-header">
							<h1>General</h1>
							<p>Configure basic extension settings and behavior.</p>
						</div>
						<div class="section">
							<label>
								<input
									type="checkbox"
									id="debug" />
								<div>
									<div style="font-weight: 600">Enable Debug Mode</div>
									<div class="option-note">Shows additional logging information in the console.</div>
								</div>
							</label>
							<div
								id="autoScrollRow"
								class="nested-option"
								hidden>
								<label>
									<input
										type="checkbox"
										id="autoScroll" />
									<div>
										<div style="font-weight: 600">Enable Timeline Auto Scroll</div>
										<div class="option-note">Scrolls through 10 posts automatically, pauses for 2 minutes, and repeats.</div>
									</div>
								</label>
							</div>
							<fieldset class="lookup-mode">
								<legend>Location Lookup Mode</legend>
								<div class="radio-group">
									<label class="radio-pill">
										<input
											type="radio"
											name="lookupMode"
											value="hover"
											checked />
										<div>
											<div style="font-weight: 600">On Post Hover (default)</div>
											<div class="option-note">Only fetches new profiles when you hover over a post.</div>
										</div>
									</label>
									<label class="radio-pill">
										<input
											type="radio"
											name="lookupMode"
											value="auto" />
										<div>
											<div style="font-weight: 600">Auto Fetch</div>
											<div class="option-note">Continuously looks up locations for highlighted tweets.</div>
										</div>
									</label>
									<label class="radio-pill">
										<input
											type="radio"
											name="lookupMode"
											value="menu" />
										<div>
											<div style="font-weight: 600">Menu Flag Button</div>
											<div class="option-note">Adds a flag button next to Grok/More for manual lookups.</div>
										</div>
									</label>
								</div>
							</fieldset>
							<div>
								<button id="save">Save Settings</button>
							</div>
						</div>
					</div>

					<div
						id="filtering"
						class="section-content">
						<div class="main-header">
							<h1>Content Filtering</h1>
							<p>Hide posts from specific countries based on user location.</p>
						</div>
						<div class="section">
							<p>Select a location from the dropdown and click "Add Filter" to hide posts from that country.</p>
							<div class="filter-row">
								<select id="locationSelect">
									<option value="">Select a location...</option>
								</select>
								<button id="addFilter">Add Filter</button>
							</div>
							<div id="filteredList"></div>
						</div>
					</div>

					<div
						id="statistics"
						class="section-content">
						<div class="main-header">
							<h1>Statistics</h1>
							<p>View cache statistics and location data.</p>
						</div>
						<div class="section">
							<div class="stats-grid">
								<div class="stats-card">
									<h3>Total Entries</h3>
									<strong id="totalEntries">0</strong>
								</div>
								<div class="stats-card">
									<h3>Unique Locations</h3>
									<strong id="uniqueLocations">0</strong>
								</div>
							</div>
							<h2>Location Breakdown</h2>
							<ul id="locationBreakdown"></ul>
						</div>
					</div>

					<div
						id="export-import"
						class="section-content">
						<div class="main-header">
							<h1>Export/Import</h1>
							<p>Backup and restore location history entries.</p>
						</div>
						<div class="section">
							<p style="margin: 0 0 8px; font-weight: 600">Location History Backup</p>
							<button id="exportLocations">Export Location History</button>
							<div class="import-row">
								<label for="importLocationsCsv">Import Location History:</label>
								<input
									type="file"
									id="importLocationsCsv"
									accept=".json,application/json" />
								<button id="importLocationsButton">Import</button>
							</div>
							<p
								id="status"
								role="status"></p>
						</div>
					</div>

					<div
						id="account"
						class="section-content">
						<div class="main-header">
							<h1>Account</h1>
							<p>Manage your X Buddy account login and registration.</p>
						</div>
						<div class="section">
							<div class="account-container">
								<div class="account-header">Sign in to X Buddy</div>
								<p class="account-sub">Authenticate to sync with your X Buddy account.</p>
								<p
									id="accountStatus"
									class="account-status">
									Checking login status...
								</p>
								<form
									id="loginForm"
									class="account-form"
									autocomplete="on">
									<label>
										Email
										<input
											id="emailInput"
											name="email"
											type="email"
											placeholder="you@example.com"
											required />
									</label>
									<label>
										Password
										<input
											id="passwordInput"
											name="password"
											type="password"
											placeholder="••••••••"
											required />
									</label>
									<div
										class="account-actions"
										id="loginActions">
										<button
											id="loginSubmit"
											type="submit">
											Log In
										</button>
										<button
											id="registerBtn"
											type="button"
											class="button-secondary">
											Register
										</button>
									</div>
								</form>
								<div
									id="sessionCard"
									class="card"
									hidden>
									<p
										class="meta"
										id="userMeta">
										<span id="userName"></span>
										<a
											href="#"
											id="logoutBtn"
											style="color: var(--accent); text-decoration: underline">
											Log Out
										</a>
									</p>
									<p class="meta">
										Signature Version:
										<span id="signatureVersionValue">0</span>
									</p>
									<p class="meta">Token</p>
									<p
										class="token"
										id="tokenValue"></p>
									<div
										class="account-actions"
										id="sessionActions">
										<button
											id="syncLocationsBtn"
											type="button">
											Sync Locations
										</button>
										<button
											id="uploadLocationsBtn"
											type="button"
											class="button-secondary">
											Upload Local Changes
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<small>Developed By Justin Greer</small>
		</div>
		<script src="options.js"></script>
		<script src="account.js"></script>
	</body>
</html>
